{% load static %}
<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Реєстрація для хостів</title>
    <!-- Custom font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap" rel="stylesheet">
    <!-- Bootstrap 5 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom Auth CSS -->
    <link href="{% static 'users/css/auth.css' %}" rel="stylesheet">
    <style>
    .host-layout {
        display: flex;
        gap: 5vw;
        width: 100%;
        max-width: 1100px;
        margin: 0 auto;
        align-items: stretch;
    }

    .host-block {
        flex: 1;
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 20px 20px 0 rgba(36, 25, 9, 0.6);
        display: flex;
        flex-direction: column;
        min-height: 700px;
    }

    .section-title {
        color: #49111c;
        font-size: 1.5rem;
        font-weight: 900;
        text-align: center;
        padding-bottom: 15px;
    }

    @media (max-width: 992px) {
        .host-layout {
            flex-direction: column;
        }
        .host-block {
            width: 100%;
            min-height: auto;
        }
    }

    .page-title {
        color: white;
        text-align: center;
        font-weight: 800;
        font-size: 2rem;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }
</style>
</head>
<body>
<div class="container-fluid">
    <h2 class="page-title mb-5 mt-5">Твори Dyvo разом з нами!</h2>

    <form method="post" id="hostRegistrationForm" novalidate autocomplete="off" enctype="multipart/form-data">
        {% csrf_token %}

        <div class="host-layout mb-5">

            <!-- Left block -->
            <div class="host-block">
                <div class="section-title mb-3">Дані для реєстрації</div>

                <!-- Email -->
                <div class="mb-3">
                    <label for="{{ form.email.id_for_label }}" class="form-label">{{ form.email.label }}<span class="required-star">*</span></label>
                    {{ form.email }}
                    <div class="error-message" id="emailError">Введіть коректну електронну адресу.</div>
                    {% if form.email.errors %}<div class="text-danger small mt-1">{{ form.email.errors.0 }}</div>{% endif %}
                </div>

                <!-- Password -->
                <div class="mb-3">
                    <label for="{{ form.password.id_for_label }}" class="form-label">{{ form.password.label }}<span class="required-star">*</span></label>
                    {{ form.password }}
                    {% if form.password.errors %}<div class="text-danger small mt-1">{{ form.password.errors.0 }}</div>{% endif %}
                </div>

                <!-- Confirm Password -->
                <div class="mb-3">
                    <label for="{{ form.confirm_password.id_for_label }}" class="form-label">{{ form.confirm_password.label }}<span class="required-star">*</span></label>
                    {{ form.confirm_password }}
                    <div class="error-message" id="confirmError">Паролі не співпадають.</div>
                </div>

                <!-- Name -->
                <div class="mb-3">
                    <label for="{{ form.first_name.id_for_label }}" class="form-label">{{ form.first_name.label }}<span class="required-star">*</span></label>
                    {{ form.first_name }}
                    {% if form.first_name.errors %}<div class="text-danger small mt-1">{{ form.first_name.errors.0 }}</div>{% endif %}
                </div>

                <!-- Phone -->
                <div class="mb-3">
                    <label for="{{ form.phone_number.id_for_label }}" class="form-label">{{ form.phone_number.label }}<span class="required-star">*</span></label>
                    {{ form.phone_number }}
                    {% if form.phone_number.errors %}<div class="text-danger small mt-1">{{ form.phone_number.errors.0 }}</div>{% endif %}
                </div>

                <!-- Region -->
                <div class="mb-3">
                    <label for="regionInput" class="form-label">{{ form.region.label }}<span class="required-star">*</span></label>
                    <div class="dropdown-wrapper" id="regionWrapper">
                        {{ form.region }}
                        <ul class="custom-dropdown-list" id="regionList">
                            {% for value, label in form.fields.region.choices %}
                                {% if value %}<li>{{ label }}</li>{% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                    {% if form.region.errors %}<div class="text-danger small mt-1">{{ form.region.errors.0 }}</div>{% endif %}
                </div>

                <!-- Avatar Upload -->
                <div class="mb-3">
                    <label for="{{ form.avatar.id_for_label }}" class="form-label">{{ form.avatar.label }}<span class="required-star">*</span></label>
                    {{ form.avatar }}
                    {% if form.avatar.errors %}
                    <div class="text-danger small mt-1">{{ form.avatar.errors.0 }}</div>
                    {% endif %}
                </div>

                <!-- Terms -->
                <div class="mb-2 form-check mt-auto">
                    {{ form.terms_confirmed }}
                    <label class="form-check-label" for="{{ form.terms_confirmed.id_for_label }}">
                        Натискаючи ви погоджуєтеся з <a href="{% url 'terms' %}" target="_blank">правилами сайту</a>
                    </label>
                    {% if form.terms_confirmed.errors %}<div class="text-danger small">{{ form.terms_confirmed.errors.0 }}</div>{% endif %}
                </div>

            </div>

            <!-- right block -->
            <div class="host-block">
                <div class="section-title mb-3">Підтвердження особи</div>

                <p class="text-secondary mb-3">
                    Ці дані залишаться приватними. Ми дбаємо про якість Dyvo, тому нам важливо переконатися у вашому досвіді та щирому бажанні створювати незабутні враження.
                </p>

                <!-- Contacts-->
                <label class="form-label mt-2">Як нам зв'язатися із Вами?<span class="required-star">*</span></label>
                <div class="mb-3">
                    {{ form.contacts }}
                    {% if form.contacts.errors %}<div class="text-danger small w-100">{{ form.contacts.errors.0 }}</div>{% endif %}
                    <p class="text-secondary mb-3">
                        Номер телефону, електронна адреса або будь-який інший спосіб зв'язатися з Вами.
                    </p>
                    <div>
                        <label class="form-label info-label mb-0">
                            <span class="tooltip-icon" data-bs-toggle="tooltip" data-bs-placement="right" title="Верифікація хостів є обов'язковою умовою для створення нового враження. Після реєстрації наш модератор зв'яжеться з Вами для короткого підтвердження профілю та відповіді на Ваші запитання.">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-question-circle-fill" viewBox="0 0 16 16">
                                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"/>
                                </svg>
                            </span>
                            Навіщо нам це?
                        </label>
                    </div>
                </div>

                <!-- Instagram -->
                <div class="mb-3">
                    {{ form.instagram }}
                    {% if form.instagram.errors %}<div class="text-danger small">{{ form.instagram.errors.0 }}</div>{% endif %}
                </div>

                <!-- Facebook -->
                <div class="mb-1">
                    {{ form.facebook }}
                    {% if form.facebook.errors %}<div class="text-danger small">{{ form.facebook.errors.0 }}</div>{% endif %}
                </div>
                <p class="text-secondary mb-3">
                    Додайте посилання або ім'я профілю
                </p>

                <!-- About -->
                <div class="mb-3">
                    <label for="{{ form.about.id_for_label }}" class="form-label">{{ form.about.label }}</label>
                    {{ form.about }}
                    <div class="form-check-label text-secondary">{{ form.about.help_text }}</div>
                    {% if form.about.errors %}<div class="text-danger small">{{ form.about.errors.0 }}</div>{% endif %}
                </div>

                <!-- Submit -->
                <div class="d-grid gap-2">
                    <button type="submit" class="btn btn-primary btn-lg">Стати хостом</button>
                </div>

                <div class="bottom-link">
                    <a href="{% url 'login' %}" class="auth-link">В мене вже є аккаунт</a>
                </div>

            </div>
        </div>
    </form>
</div>


<!-- Bootstrap-->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

<!-- Custom auth JS -->
<script src="{% static 'users/js/register.js' %}"></script>

</body>
</html>
